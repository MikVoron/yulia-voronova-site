function updateActiveLink(){const e=document.querySelectorAll("section[id]"),t=document.querySelectorAll(".nav a:not(.nav-dropdown-toggle):not(.nav-dropdown-menu a), .footer-nav a");let n="";e.forEach(e=>{const t=e.offsetTop-150,o=e.offsetHeight;window.scrollY>=t&&window.scrollY<t+o&&(n=e.getAttribute("id"))});var o="/"===window.location.pathname||"/index.html"===window.location.pathname||window.location.pathname.endsWith("/index.html");t.forEach(e=>{var t=e.getAttribute("href");if(t.startsWith("#")||t.startsWith("/#")){if(t.startsWith("/#")){if(!o)return;return e.classList.remove("active"),void(n&&t==="/#"+n&&e.classList.add("active"))}t.startsWith("#")&&t.length>1&&(e.classList.remove("active"),n&&t==="#"+n&&e.classList.add("active"))}})}"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").catch(function(){})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".burger-menu"),t=document.querySelector(".nav"),n=document.querySelector(".nav-close"),o=document.body;if(e&&t){const a=document.createElement("div");a.className="nav-overlay",document.body.appendChild(a);const i=()=>{e.classList.remove("active"),t.classList.remove("active"),a.classList.remove("active"),o.style.overflow=""};e.addEventListener("click",()=>{e.classList.toggle("active"),t.classList.toggle("active"),a.classList.toggle("active"),o.style.overflow=t.classList.contains("active")?"hidden":""}),n&&n.addEventListener("click",i),a.addEventListener("click",i),t.querySelectorAll("a").forEach(e=>{e.addEventListener("click",i)})}const a=document.getElementById("chatLauncher"),i=document.getElementById("chatLauncherBtn"),s=document.getElementById("tawkOpenBtn");a&&i&&(i.addEventListener("click",e=>{e.stopPropagation();const t=a.classList.toggle("open");i.setAttribute("aria-expanded",t),document.getElementById("chatOptions").setAttribute("aria-hidden",!t);const n=document.getElementById("chatBadge");n&&n.classList.toggle("visible",!t&&document.getElementById("tawkBadge")?.classList.contains("visible"))}),document.addEventListener("click",e=>{a.contains(e.target)||(a.classList.remove("open"),i.setAttribute("aria-expanded","false"),document.getElementById("chatOptions").setAttribute("aria-hidden","true"))}),s&&s.addEventListener("click",()=>{a.classList.remove("open"),i.setAttribute("aria-expanded","false");const e=document.getElementById("chatBadge");e&&e.classList.remove("visible");const t=document.getElementById("tawkBadge");t&&t.classList.remove("visible"),"undefined"!=typeof Tawk_API&&"function"==typeof Tawk_API.maximize&&Tawk_API.maximize()}));const c=document.querySelector(".nav-dropdown-toggle"),r=document.querySelector(".nav-dropdown");c&&r&&(c.addEventListener("click",e=>{e.stopPropagation();const t=r.classList.toggle("open");c.setAttribute("aria-expanded",t)}),document.addEventListener("click",()=>{r.classList.remove("open"),c.setAttribute("aria-expanded","false")}),r.querySelectorAll(".nav-dropdown-menu a").forEach(e=>{e.addEventListener("click",()=>{r.classList.remove("open"),c.setAttribute("aria-expanded","false")})}))}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})}),document.addEventListener("DOMContentLoaded",()=>{if(window.innerWidth>768){const e=document.querySelectorAll(".tariffs-grid .tariff-card-collapsible");e.length>0&&e.forEach(t=>{t.addEventListener("click",n=>{n.target.closest("a, button")||(e.forEach(e=>e.classList.remove("popular")),t.classList.add("popular"))})})}}),document.addEventListener("DOMContentLoaded",()=>{if(window.innerWidth<=768){const e=document.querySelector(".tariffs-grid"),t=document.querySelector(".tariffs-arrow-left"),n=document.querySelector(".tariffs-arrow-right"),o=document.querySelectorAll(".tariff-card-collapsible"),a=document.querySelectorAll(".tariff-dot");if(e&&o.length>0){let i=1;const s=e=>{e<0&&(e=0),e>=o.length&&(e=o.length-1),i=e,"function"==typeof window.closeAllTariffCards&&window.closeAllTariffCards(),o.forEach((e,t)=>{e.classList.remove("active","stack-back-1","stack-back-2"),t===i?e.classList.add("active"):t===i-1||t===i+1?e.classList.add("stack-back-1"):e.classList.add("stack-back-2")}),a.forEach((e,t)=>{e.classList.toggle("active",t===i)}),c()},c=()=>{t&&t.classList.toggle("disabled",i<=0),n&&n.classList.toggle("disabled",i>=o.length-1)};a.forEach((e,t)=>{e.addEventListener("click",()=>{s(t)})}),s(i),t&&t.addEventListener("click",()=>{i>0&&s(i-1)}),n&&n.addEventListener("click",()=>{i<o.length-1&&s(i+1)});let r=0,l=0;e.addEventListener("touchstart",e=>{r=e.touches[0].clientX,l=e.touches[0].clientY},{passive:!0}),e.addEventListener("touchend",e=>{const t=e.changedTouches[0].clientX-r,n=e.changedTouches[0].clientY-l;Math.abs(t)>Math.abs(n)&&Math.abs(t)>40&&s(t<0?i+1:i-1)},{passive:!0});const d=document.querySelector(".tariffs");if(d&&"IntersectionObserver"in window){new IntersectionObserver(e=>{e.forEach(e=>{d.classList.toggle("arrows-visible",e.isIntersecting)})},{threshold:.3}).observe(e)}}}}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".diplomas-grid"),t=document.querySelector(".diplomas-arrow-left"),n=document.querySelector(".diplomas-arrow-right");if(e&&t&&n){const o=e.querySelectorAll(".diploma-card");let a=0;const i=t=>{t<0&&(t=0),t>=o.length&&(t=o.length-1),a=t;const n=o[t],i=n.offsetLeft,c=n.offsetWidth,r=i-(e.offsetWidth-c)/2;o.forEach((e,n)=>{n===t?e.classList.add("active"):e.classList.remove("active")}),e.scrollTo({left:r,behavior:"smooth"}),s(t)},s=e=>{t.classList.toggle("disabled",0===e),n.classList.toggle("disabled",e===o.length-1)};let c;o.length>1&&(a=1,o[1].classList.add("active"),s(1),setTimeout(()=>{i(1)},100)),t.addEventListener("click",()=>{t.classList.contains("disabled")||i(a-1)}),n.addEventListener("click",()=>{n.classList.contains("disabled")||i(a+1)}),e.addEventListener("scroll",()=>{clearTimeout(c),c=setTimeout(()=>{const t=e.offsetWidth,n=e.scrollLeft+t/2;let i=0,c=1/0;o.forEach((e,t)=>{const o=e.offsetLeft+e.offsetWidth/2,a=Math.abs(n-o);a<c&&(c=a,i=t)}),i!==a&&(a=i,o.forEach((e,t)=>{e.classList.toggle("active",t===a)}),s(a))},100)})}}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".first-meeting-v4 .step-item");if(e.length>0&&"IntersectionObserver"in window){const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animate-visible"),t.unobserve(e.target))})},{threshold:.2,rootMargin:"0px 0px -50px 0px"});e.forEach(e=>{t.observe(e)})}}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".services-range, .faq, .telegram-subscribe");if(e.length>0&&"IntersectionObserver"in window){const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animate-visible"),t.unobserve(e.target))})},{threshold:.15,rootMargin:"0px 0px -50px 0px"});e.forEach(e=>{t.observe(e)})}}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".about-help-section, .about-youtube-section, .diplomas");if(e.length>0&&"IntersectionObserver"in window){const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animate-visible"),t.unobserve(e.target))})},{threshold:.15,rootMargin:"0px 0px -50px 0px"});e.forEach(e=>{t.observe(e)})}});let _scrollTicking=!1;window.addEventListener("scroll",function(){_scrollTicking||(requestAnimationFrame(function(){updateActiveLink(),_scrollTicking=!1}),_scrollTicking=!0)},{passive:!0}),document.addEventListener("DOMContentLoaded",updateActiveLink);let currentTestimonial=0;const testimonials=document.querySelectorAll(".testimonial-card"),prevBtn=document.querySelector(".nav-btn.prev"),nextBtn=document.querySelector(".nav-btn.next");function updateTestimonials(){console.log("Current testimonial:",currentTestimonial)}prevBtn&&nextBtn&&(prevBtn.addEventListener("click",()=>{currentTestimonial=(currentTestimonial-1+testimonials.length)%testimonials.length,updateTestimonials()}),nextBtn.addEventListener("click",()=>{currentTestimonial=(currentTestimonial+1)%testimonials.length,updateTestimonials()}));const newsletterForm=document.querySelector(".newsletter-form");newsletterForm&&newsletterForm.addEventListener("submit",e=>{e.preventDefault();new FormData(newsletterForm);alert("Thank you for subscribing!"),newsletterForm.reset()}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".grid-item");e.forEach(e=>{e.classList.add("hidden")});const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.contains("grid-item")?(e.target.classList.add("animate"),setTimeout(()=>{t.unobserve(e.target)},1e3)):(e.target.style.opacity="1",e.target.style.transform="translateY(0)"))})},{threshold:.15,rootMargin:"0px 0px -50px 0px"});e.forEach(e=>{t.observe(e)}),("ontouchstart"in window||navigator.maxTouchPoints>0)&&(e.forEach(t=>{t.addEventListener("click",function(t){t.target.closest("a")||(t.stopPropagation(),this.classList.contains("tapped")?this.classList.remove("tapped"):(e.forEach(e=>e.classList.remove("tapped")),this.classList.add("tapped")))})}),document.addEventListener("click",function(t){t.target.closest(".grid-item")||e.forEach(e=>e.classList.remove("tapped"))})),document.querySelectorAll(".testimonial-card, .booking-info").forEach(e=>{e.style.opacity="0",e.style.transform="translateY(20px)",e.style.transition="opacity 0.6s ease, transform 0.6s ease",t.observe(e)});const n=new IntersectionObserver(e=>{e.forEach(e=>{if(!e.isIntersecting)return;const t=e.target,o=t.dataset.revealDelay||0;setTimeout(()=>{t.classList.add("reveal-visible")},o),n.unobserve(t)})},{threshold:.12,rootMargin:"0px 0px -40px 0px"});[".section-title:not(.hero *):not(.script-text)",".mission-text",".about-text-block",".services-range .step-item",".tariff-card",".faq-item",".blog-article-card",".guide-card",".youtube-title-row",".tg-split-left > *"].forEach(e=>{document.querySelectorAll(e).forEach((e,t)=>{e.getBoundingClientRect().top<window.innerHeight||(e.classList.add("reveal"),e.closest(".tariff-card, .step-item, .faq-item, .blog-article-card, .guide-card")&&(e.dataset.revealDelay=t%4*100),n.observe(e))})}),document.querySelectorAll(".reveal").forEach(e=>n.observe(e));const o=document.querySelector(".tg-chat-section");o&&(o.classList.add("animate-visible"),window.addEventListener("load",()=>{setTimeout(()=>{const e=o.querySelectorAll(".tg-msg");e.forEach(e=>e.classList.add("tg-msg-ready"));const t=new IntersectionObserver(n=>{n.forEach(n=>{if(n.isIntersecting){const o=n.target,a=Array.from(e).indexOf(o);setTimeout(()=>o.classList.add("tg-msg-visible"),150*a),t.unobserve(o)}})},{threshold:.1});e.forEach(e=>t.observe(e))},2e3)}));const a=document.querySelector(".yt-topic-pills");a&&window.addEventListener("load",()=>{setTimeout(()=>{const e=a.querySelectorAll("span");e.forEach(e=>e.classList.add("pill-ready"));const t=new IntersectionObserver(n=>{n.forEach(n=>{if(n.isIntersecting){const o=n.target,a=Array.from(e).indexOf(o);setTimeout(()=>o.classList.add("pill-visible"),200*a),t.unobserve(o)}})},{threshold:.1});e.forEach(e=>t.observe(e))},1500)})});const timeSlots=document.querySelectorAll(".time-slot");timeSlots.forEach(e=>{e.addEventListener("click",()=>{timeSlots.forEach(e=>e.classList.remove("selected")),e.classList.add("selected")})}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".tariff-card-collapsible"),t=document.querySelector(".tariffs-grid");console.log("Found cards:",e.length),e.forEach((e,t)=>{e.setAttribute("data-card-id",t),e.classList.remove("is-open");const n=e.querySelector(".tariff-details");n&&n.classList.remove("is-visible")});let n=null;function o(){document.querySelectorAll(".tariff-card-collapsible").forEach(e=>{const t=e.querySelector(".tariff-details"),n=e.querySelector(".expand-indicator-line"),o=n?n.querySelector(".line-text"):null;e.classList.remove("is-open"),t&&t.classList.remove("is-visible"),n&&n.classList.remove("expanded"),o&&(o.textContent="Подробнее")}),t&&t.classList.remove("has-open-card"),n=null}window.closeAllTariffCards=o,e.forEach(e=>{e.addEventListener("click",function(e){e.target.closest(".btn-tariff-fixed")||function(e){if(!e)return;const a=e.getAttribute("data-card-id"),i=e.querySelector(".tariff-details"),s=e.querySelector(".expand-indicator-line"),c=s?s.querySelector(".line-text"):null,r=n===a;if(o(),r&&window.innerWidth<=768){const e=document.querySelector(".tariffs")||document.getElementById("tariffs");e&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"center"})},100)}r||(e.classList.add("is-open"),i&&i.classList.add("is-visible"),s&&s.classList.add("expanded"),c&&(c.textContent="Свернуть"),n=a,t&&t.classList.add("has-open-card"),window.innerWidth<=768&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"start"})},100))}(this)})})}),document.querySelectorAll(".tab-btn").forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-tab");document.querySelectorAll(".tab-btn").forEach(e=>e.classList.remove("active")),document.querySelectorAll(".tab-panel").forEach(e=>e.classList.remove("active")),this.classList.add("active"),document.getElementById(e).classList.add("active")})}),document.querySelectorAll(".filter-btn").forEach(e=>{e.addEventListener("click",function(){const e=this.getAttribute("data-filter");document.querySelectorAll(".filter-btn").forEach(e=>e.classList.remove("active")),this.classList.add("active"),document.querySelectorAll(".filter-card").forEach(t=>{const n=t.getAttribute("data-category");"all"===e||n===e?t.classList.remove("hidden"):t.classList.add("hidden")})})}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".faq-item");e.forEach(t=>{t.querySelector(".faq-question").addEventListener("click",function(){const n=t.classList.contains("active");e.forEach(e=>{e.classList.remove("active")}),n||t.classList.add("active")})})}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("diploma-modal"),t=document.getElementById("diploma-modal-image"),n=document.querySelector(".diploma-modal-close"),o=document.querySelector(".diploma-modal-prev"),a=document.querySelector(".diploma-modal-next"),i=document.querySelectorAll(".diploma-card");if(!(e&&t&&n&&o&&a&&0!==i.length))return;let s=0;const c=Array.from(i).map(e=>e.getAttribute("data-diploma"));function r(){e.classList.remove("active"),document.body.style.overflow=""}function l(){s=(s-1+c.length)%c.length,t.src=c[s]}function d(){s=(s+1)%c.length,t.src=c[s]}i.forEach((n,o)=>{n.addEventListener("click",function(){s=o,e.classList.add("active"),t.src=c[s],document.body.style.overflow="hidden"})}),n.addEventListener("click",r),e.addEventListener("click",function(t){t.target===e&&r()}),o.addEventListener("click",l),a.addEventListener("click",d),document.addEventListener("keydown",function(t){e.classList.contains("active")&&("Escape"===t.key?r():"ArrowLeft"===t.key?l():"ArrowRight"===t.key&&d())})}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".testimonials-carousel-track"),t=document.querySelector(".carousel-btn-prev"),n=document.querySelector(".carousel-btn-next"),o=document.querySelector(".carousel-dots");if(!e)return;const a=e.querySelectorAll(".social-testimonial-card"),i=a.length;let s=0,c=r();function r(){return window.innerWidth<=480?1:window.innerWidth<=768?2:3}function l(){if(!o)return;o.innerHTML="";const e=Math.ceil(i/r());for(let t=0;t<e;t++){const e=document.createElement("button");e.classList.add("carousel-dot"),0===t&&e.classList.add("active"),e.setAttribute("aria-label",`Перейти к слайду ${t+1}`),e.addEventListener("click",()=>u(t)),o.appendChild(e)}}function d(){const r=a[0].offsetWidth,l=s*(r+30)*c;if(e.style.transform=`translateX(-${l}px)`,function(){if(!o)return;o.querySelectorAll(".carousel-dot").forEach((e,t)=>{e.classList.toggle("active",t===s)})}(),t&&(t.disabled=0===s),n){const e=Math.ceil(i/c)-1;n.disabled=s>=e}}function u(e){const t=Math.ceil(i/c)-1;s=Math.max(0,Math.min(e,t)),d()}function m(){const e=Math.ceil(i/c)-1;s<e&&(s++,d())}function f(){s>0&&(s--,d())}t&&t.addEventListener("click",f),n&&n.addEventListener("click",m);let v,h=0,g=0;e.addEventListener("touchstart",e=>{h=e.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",e=>{g=e.changedTouches[0].screenX,function(){const e=50,t=h-g;Math.abs(t)>e&&(t>0?m():f())}()},{passive:!0}),window.addEventListener("resize",()=>{clearTimeout(v),v=setTimeout(()=>{const e=r();e!==c&&(c=e,s=0,l()),d()},150)}),l(),d()}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("testimonial-modal"),t=document.getElementById("testimonial-modal-image"),n=document.querySelector(".testimonial-modal-close"),o=document.querySelector(".testimonial-modal-prev"),a=document.querySelector(".testimonial-modal-next"),i=document.querySelectorAll(".social-testimonial-card"),s=document.getElementById("testimonial-info-name"),c=document.getElementById("testimonial-info-age"),r=document.getElementById("testimonial-info-request");if(!e||!t)return;let l=0;const d=Array.from(i).map(e=>({image:e.getAttribute("data-testimonial"),name:e.getAttribute("data-name")||"",age:e.getAttribute("data-age")||"",request:e.getAttribute("data-request")||""}));function u(){const e=d[l];e&&(t.src=e.image,s&&(s.textContent=e.name),c&&(c.textContent=e.age),r&&(r.textContent=e.request))}function m(){l=(l-1+d.length)%d.length,u()}function f(){l=(l+1)%d.length,u()}function v(){e.classList.remove("active"),document.body.style.overflow=""}i.forEach((t,n)=>{t.addEventListener("click",function(){l=n,u(),e.classList.add("active"),document.body.style.overflow="hidden"})}),o&&o.addEventListener("click",function(e){e.stopPropagation(),m()}),a&&a.addEventListener("click",function(e){e.stopPropagation(),f()}),n&&n.addEventListener("click",function(e){e.stopPropagation(),v()}),e.addEventListener("click",function(n){n.target!==e&&n.target!==t||v()}),document.addEventListener("keydown",function(t){e.classList.contains("active")&&("Escape"===t.key?v():"ArrowLeft"===t.key?m():"ArrowRight"===t.key&&f())})}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".contact-email-form");if(!e)return;const t=e.querySelector('input[name="privacy"]'),n=e.querySelector(".privacy-tooltip");t&&n&&(e.addEventListener("submit",function(e){t.checked||(e.preventDefault(),n.classList.add("show"),setTimeout(()=>{n.classList.remove("show")},3e3))}),t.addEventListener("change",function(){this.checked&&n.classList.remove("show")}))}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("contact-form"),t=document.getElementById("success-modal"),n=document.querySelector(".success-modal-close");e&&t&&(e.addEventListener("submit",async n=>{n.preventDefault();const o=e.querySelector('input[name="privacy"]'),a=e.querySelector(".privacy-checkbox");if(o&&!o.checked)return a.classList.add("shake"),void setTimeout(()=>{a.classList.remove("shake")},600);const i=new FormData(e),s=e.querySelector('button[type="submit"]'),c=s.textContent;s.disabled=!0,s.textContent="Отправка...";try{(await fetch("https://api.web3forms.com/submit",{method:"POST",body:i})).ok?(t.classList.add("active"),e.reset(),setTimeout(()=>{t.classList.remove("active")},5e3)):alert("Произошла ошибка. Попробуйте ещё раз.")}catch(e){alert("Произошла ошибка. Попробуйте ещё раз.")}s.disabled=!1,s.textContent=c}),n&&n.addEventListener("click",()=>{t.classList.remove("active")}),t.addEventListener("click",e=>{e.target===t&&t.classList.remove("active")}))}),navigator.vibrate&&document.addEventListener("touchstart",function(e){e.target.closest("button, a, .tariff-card-collapsible, .grid-item, .social-testimonial-card, .guide-card, .guide-card-full, .guide-card-minimal, .blog-article-card, .faq-item, .bottom-nav-item, .bottom-nav-popup-item, .tab-btn, .filter-btn, .test-answer-btn, .testimonial-modal-close, .success-modal-close, .diploma-card, .lead-scenario-btn, .test-catalog-card, #testimonial-modal-image")&&navigator.vibrate(15)},{passive:!0}),document.querySelectorAll(".bottom-nav-item").forEach(function(e){e.addEventListener("touchstart",function(){e.classList.remove("nav-pressed"),e.offsetWidth,e.classList.add("nav-pressed"),setTimeout(function(){e.classList.remove("nav-pressed")},600),e.animate([{transform:"scale(1)"},{transform:"scale(0.88)",offset:.18},{transform:"scale(1.04)",offset:.55},{transform:"scale(0.99)",offset:.8},{transform:"scale(1)"}],{duration:380,easing:"ease-out",fill:"none"})},{passive:!0})}),document.querySelectorAll("a.bottom-nav-item").forEach(function(e){e.addEventListener("click",function(t){if(!(t.ctrlKey||t.metaKey||t.shiftKey)){t.preventDefault();var n=e.getAttribute("href");setTimeout(function(){window.location.href=n},200)}})}),function(){if(document.querySelector(".bottom-nav-item")){var e={home:function(e){var t=e.querySelector("svg");t&&t.animate&&t.animate([{transform:"rotate(0deg)"},{transform:"rotate(-22deg)",offset:.35},{transform:"rotate(3deg)",offset:.72},{transform:"rotate(0deg)"}],{duration:650,easing:"ease-out",fill:"none"})},about:function(e){var t=e.querySelector("svg");if(t){var n=t.getBoundingClientRect(),o=e.getBoundingClientRect();if(n.width){var a=n.left-o.left+n.width/2,i=n.top-o.top+n.height/2,s=n.width+10,c=document.createElement("span");c.style.cssText="position:absolute;border-radius:50%;border:2px solid currentColor;width:"+s+"px;height:"+s+"px;left:"+(a-s/2)+"px;top:"+(i-s/2)+"px;pointer-events:none;z-index:10;box-sizing:border-box",e.appendChild(c),c.animate([{transform:"scale(0.3)",opacity:0},{transform:"scale(1)",opacity:.85,offset:.45},{transform:"scale(1.5)",opacity:0}],{duration:750,easing:"ease-out",fill:"forwards"}).onfinish=function(){c.remove()}}}},tariffs:function(e){var t=e.querySelector("svg");t&&t.animate&&t.animate([{transform:"scaleX(1)"},{transform:"scaleX(0)",offset:.35},{transform:"scaleX(1)",offset:.7},{transform:"scaleX(1)"}],{duration:680,easing:"ease-in-out",fill:"none"})},blog:function(e){var t=e.querySelector("svg");if(t){var n=t.getBoundingClientRect(),o=e.getBoundingClientRect();if(n.width){var a=n.left-o.left+n.width/2,i=n.top-o.top+n.height/2,s=.58*n.width;[0,1,2].forEach(function(t){var n=document.createElement("span");n.style.cssText="position:absolute;height:1.5px;background:currentColor;border-radius:1px;top:"+(i-4+5*t)+"px;left:"+(a-s/2)+"px;width:"+s+"px;transform-origin:left center;transform:scaleX(0);pointer-events:none;z-index:10",e.appendChild(n),n.animate([{transform:"scaleX(0)",opacity:1},{transform:"scaleX(1)",opacity:1,offset:.45},{transform:"scaleX(1)",opacity:0,offset:.85},{transform:"scaleX(0)",opacity:0}],{duration:700,delay:110*t,easing:"ease-out",fill:"forwards"}).onfinish=function(){n.remove()}})}}},guides:function(e){var t=e.querySelector("svg");if(t){var n=t.getBoundingClientRect(),o=e.getBoundingClientRect();if(n.width){var a=n.left-o.left+n.width/2,i=n.top-o.top+n.height/2,s=n.width/2+4;[0,45,90,135,180,225,270,315].forEach(function(t,n){var o=(t-90)*Math.PI/180,c=a+s*Math.cos(o),r=i+s*Math.sin(o),l=document.createElement("span");l.style.cssText="position:absolute;width:2px;height:5px;background:currentColor;border-radius:1px;left:"+(c-1)+"px;top:"+(r-2.5)+"px;pointer-events:none;z-index:10;opacity:0",e.appendChild(l),l.animate([{transform:"rotate("+t+"deg) scale(0)",opacity:0},{transform:"rotate("+t+"deg) scale(1)",opacity:.8,offset:.4},{transform:"rotate("+t+"deg) scale(0)",opacity:0}],{duration:780,delay:35*n,easing:"ease-out",fill:"forwards"}).onfinish=function(){l.remove()}})}}}};document.querySelectorAll(".bottom-nav-item").forEach(function(t){t.addEventListener("touchstart",function(){var n=e[t.getAttribute("data-nav")];n&&n(t)},{passive:!0})})}}(),document.querySelectorAll(".bottom-nav-item").forEach(function(e){e.addEventListener("click",function(t){var n=document.createElement("span");n.className="bottom-nav-ripple";var o=e.getBoundingClientRect(),a=Math.max(o.width,o.height);n.style.cssText="width:"+a+"px;height:"+a+"px;left:"+(t.clientX-o.left-a/2)+"px;top:"+(t.clientY-o.top-a/2)+"px;",e.appendChild(n),setTimeout(function(){n.remove()},500)})}),function(){const e=document.getElementById("bottomNavMore"),t=document.getElementById("bottomNavPopup");e&&t&&(e.addEventListener("click",function(n){n.stopPropagation();const o=t.classList.toggle("open");e.setAttribute("aria-expanded",o)}),document.addEventListener("click",function(){t.classList.remove("open"),e.setAttribute("aria-expanded","false")}),t.addEventListener("click",function(e){e.stopPropagation()}))}(),function(){function e(){document.querySelectorAll(".bottom-nav-item").forEach(e=>e.classList.remove("active"));const e=window.location.pathname.split("/").pop()||"index.html",t=window.location.hash;let n={"index.html":"home","":"home","about.html":"about","blog.html":"blog","guides.html":"guides","tests.html":"guides","questionnaires.html":"guides"}[e];if("index.html"!==e&&""!==e||"#tariffs"!==t||(n="tariffs"),n){const e=document.querySelector(`.bottom-nav-item[data-nav="${n}"]`);e&&e.classList.add("active")}}e(),window.addEventListener("hashchange",e)}(),function(){var e=document.querySelectorAll(".blog-card-image img");if(e.length){var t=document.createElement("div");t.className="img-lightbox-overlay",t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true");var n=document.createElement("img");n.setAttribute("alt","");var o=document.createElement("button");o.className="img-lightbox-close",o.setAttribute("aria-label","Закрыть"),o.innerHTML="&times;",t.appendChild(n),t.appendChild(o),t.addEventListener("click",function(e){e.target!==n&&i()}),o.addEventListener("click",i);var a=0;t.addEventListener("touchstart",function(e){a=e.touches[0].clientY},{passive:!0}),t.addEventListener("touchend",function(e){e.changedTouches[0].clientY-a>55&&i()},{passive:!0}),document.addEventListener("keydown",function(e){"Escape"===e.key&&i()}),e.forEach(function(e){e.addEventListener("click",function(){var o,a;o=e.src,a=e.alt,n.src=o,n.alt=a||"",document.body.appendChild(t),document.body.style.overflow="hidden",requestAnimationFrame(function(){requestAnimationFrame(function(){t.classList.add("active")})})})})}function i(){t.classList.remove("active"),setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t),document.body.style.overflow=""},260)}}();